import{_ as C,A as i,B as Y,G as B,E as t,H as a,cQ as T,r as y,C as P,D as c,I as k,Q as W,K as j,J as F,bG as z,N as S}from"./index.cf985d9a.js";import{R as L,P as _,Q as N,d as b,T as A,a as E,b as $}from"./YoutubeDataService.82414d03.js";import{V as M}from"./vue3-apexcharts.common.df5d2715.js";const G={components:{apexchart:M},props:{series:{required:!0,type:Object}},setup(o){return{options:{chart:{stacked:!1,toolbar:{show:!0},zoom:{enabled:!0}},xaxis:{type:"datetime"},dataLabels:{enabled:!1},stroke:{width:2},tooltip:{enabled:!1}}}}},H=a("div",{class:"text-h6"},"Views by Day",-1);function J(o,s,r,e,p,m){const n=i("apexchart");return Y(),B("div",null,[H,t(n,{type:"line",series:r.series,options:e.options},null,8,["series","options"])])}var K=C(G,[["render",J]]);const U={components:{apexchart:M},props:{series:{required:!0,type:Object}},setup(o){return{options:{chart:{type:"bar",stacked:!0,toolbar:{show:!0},zoom:{enabled:!1}},xaxis:{categories:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}}}}},X=a("div",{class:"text-h6"},"Views by Day of Week",-1);function Z(o,s,r,e,p,m){const n=i("apexchart");return Y(),B("div",null,[X,t(n,{type:"bar",options:e.options,series:r.series},null,8,["options","series"])])}var ee=C(U,[["render",Z]]);const te={components:{apexchart:M},props:{series:{required:!0,type:Object}},setup(o){return{options:{chart:{stacked:!1,toolbar:{show:!0},zoom:{enabled:!0}},xaxis:{type:"datetime"},dataLabels:{enabled:!1},stroke:{width:2},tooltip:{enabled:!1}}}}},se=a("div",{class:"text-h6"},"Subscribers by Day",-1);function ae(o,s,r,e,p,m){const n=i("apexchart");return Y(),B("div",null,[se,t(n,{type:"line",series:r.series,options:e.options},null,8,["series","options"])])}var oe=C(te,[["render",ae]]);const ne={components:{apexchart:M},props:{series:{required:!0,type:Object}},setup(o){return{options:{chart:{stacked:!1,toolbar:{show:!0},zoom:{enabled:!0}},xaxis:{type:"datetime"},dataLabels:{enabled:!1},stroke:{width:2},tooltip:{enabled:!1}}}}},re=a("div",{class:"text-h6"},"Share by Day",-1);function le(o,s,r,e,p,m){const n=i("apexchart");return Y(),B("div",null,[re,t(n,{type:"line",series:r.series,options:e.options},null,8,["series","options"])])}var ce=C(ne,[["render",le]]);const{subtractFromDate:ie,formatDate:D}=b,de={components:{ReportPeriodSelector:L,ChartOfSingleChannelViewsByDay:K,ChartOfSingleChannelSubscribersByDay:oe,ChartOfSingleChannelViewsByDayOfWeek:ee,ChartOfSingleChannelShareByDay:ce},setup(){const o=T(),s=new A,r=y([]),e=y([]),p=y([]),m=y([]),n=y({name:"",url:""}),v=Date.now(),O=ie(v,{days:7});var g=D(v,"MMM DD, YYYY"),x=D(O,"MMM DD, YYYY");const f=y({from:x,to:g}),q=_.getItem("dateSelection");q!=null&&q.saved>=v-60*60*24*1e3&&(x=D(q.from,"MMM DD, YYYY"),g=D(q.to,"MMM DD, YYYY"),f.value={from:x,to:g});const I=_.getItem("password"),Q=l=>{f.value.from=D(l.from,"MMM DD, YYYY"),f.value.to=D(l.to,"MMM DD, YYYY");const d=b.extractDate(l.from,"YYYY/MM/DD"),w=b.extractDate(l.to,"YYYY/MM/DD"),h=Date.now(),u={from:d.getTime(),to:w.getTime(),saved:h};_.set("dateSelection",u),V()},R=l=>{V()},V=()=>{const l="MMM DD, YYYY",d=b.extractDate(f.value.from,l),w=b.extractDate(f.value.to,l),h=d.getTime()/1e3,u=b.addToDate(w,{days:1}).getTime()/1e3;s.createFilteredData([],h,u),r.value=[{data:s.getChannelsViewsByDate(h,u,o.params.channelId)}],e.value=[{data:s.getChannelsSubscribersByDate(h,u,o.params.channelId)}],p.value=[{data:s.getChannelViewsByDayOfWeek(h,u,o.params.channelId)}],m.value=[{data:s.getChannelShareByDate(h,u,o.params.channelId)}],n.value=s.getChannelData(o.params.channelId)};if(I==null)useQuasar().dialog({title:"Prompt",message:"Password?",prompt:{model:"",type:"password"},cancel:!0,persistent:!0}).onOk(d=>{s.loadDatabase(d).then(w=>{w?(_.set("password",d),R()):_.remove("password")})});else{const l=_.getItem("password");s.loadDatabase(l).then(d=>{d?R():_.remove("password")})}return{dateRange:f,handleReportRequested:Q,viewsByDay:r,subscribersByDay:e,viewsByDayOfWeek:p,channelData:n,shareByDay:m}}},pe={class:"col-xs-12 col-sm-12 col-md-12"},me={class:"row q-mt-md text-h5"},he={class:"row q-mt-md q-gutter-sm"},ue={class:"row q-col-gutter-md q-mt-md q-mr-md q-ml-md"},_e={class:"fit"},fe=["src"],ye={class:"text-h6"},De={class:"text-subtitle2"},be=["href"],ve={class:"col-xs-12 col-sm-12 col-md-6 col-lg-6"},ge={class:"col-xs-12 col-sm-12 col-md-6 col-lg-6"},xe={class:"col-xs-12 col-sm-12 col-md-6 col-lg-6"},we={class:"col-xs-12 col-sm-12 col-md-6 col-lg-6"};function Se(o,s,r,e,p,m){const n=i("ReportPeriodSelector"),v=i("ChartOfSingleChannelViewsByDay"),O=i("ChartOfSingleChannelSubscribersByDay"),g=i("ChartOfSingleChannelViewsByDayOfWeek"),x=i("ChartOfSingleChannelShareByDay");return Y(),P(N,{class:"row q-pl-md q-pr-md q-pb-lg"},{default:c(()=>[a("div",pe,[a("div",me," Single Channel Statistics for "+k(e.dateRange.from)+" to "+k(e.dateRange.to),1),a("div",he,[t(n,{from:e.dateRange.from,to:e.dateRange.to,onReportRequested:e.handleReportRequested},null,8,["from","to","onReportRequested"]),t(W,{type:"a",href:"./#/",label:"< Main Report",push:""})]),a("div",ue,[a("div",_e,[t(S,{class:"fit q-pl-sm q-pr-sm q-pt-sm"},{default:c(()=>[t(E,null,{default:c(()=>[t($,{avatar:""},{default:c(()=>[a("img",{src:"./channel-icons/"+o.$route.params.channelId+".jpg"},null,8,fe)]),_:1}),t($,null,{default:c(()=>[a("div",ye,k(e.channelData.name),1),a("div",De,[a("a",{href:e.channelData.url},"View on Youtube",8,be)])]),_:1})]),_:1}),t(j),t(F,{class:"q-pt-none"},{default:c(()=>[z(" lorem ipsum ")]),_:1})]),_:1})]),a("div",ve,[t(S,{class:"fit q-pl-sm q-pr-sm q-pt-sm"},{default:c(()=>[t(v,{series:e.viewsByDay},null,8,["series"])]),_:1})]),a("div",ge,[t(S,{class:"fit q-pl-sm q-pr-sm q-pt-sm"},{default:c(()=>[t(O,{series:e.subscribersByDay},null,8,["series"])]),_:1})]),a("div",xe,[t(S,{class:"fit q-pl-sm q-pr-sm q-pt-sm"},{default:c(()=>[t(g,{series:e.viewsByDayOfWeek},null,8,["series"])]),_:1})]),a("div",we,[t(S,{class:"fit q-pl-sm q-pr-sm q-pt-sm"},{default:c(()=>[t(x,{series:e.shareByDay},null,8,["series"])]),_:1})])])])]),_:1})}var Be=C(de,[["render",Se]]);export{Be as default};
